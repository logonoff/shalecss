/*
 * Checkboxes and Radio
 */
.#{$shale}input input {
	&[type="text"], &[type="password"], &[type="email"], &[type="url"], &[type="tel"], &[type="number"], &[type="search"], &[type="date"], &[type="time"], &[type="datetime-local"], &[type="month"], &[type="week"] {
		background: var(--#{$shale}input-background);
		border-radius: .2rem;
		border: 0;
		box-shadow: 0 0 0 1px var(--#{$shale}input-border), 0 0 0 2px var(--#{$shale}input-inner-border);
		color: var(--#{$shale}text);
		font-family: inherit;
		image-rendering: pixelated;
		outline: 0;
		padding: .5em;
		transition: .3s box-shadow ease;

		&:hover, &.hover {
			--#{$shale}input-border: var(--#{$shale}input-border-hover);
			--#{$shale}input-inner-border: var(--#{$shale}input-inner-border-hover);
		}

		&:focus, &.focus {
			--#{$shale}input-border: var(--#{$shale}input-border-active);
			--#{$shale}input-inner-border: var(--#{$shale}input-inner-border-active);
		}
	}

	&[type="checkbox"], &[type="radio"] {
		opacity: 0;
		position: absolute;

		&:focus + label::before {
			background: var(--#{$shale}button-hover);
			border-color: var(--#{$shale}button-border-hover);
			box-shadow: inset 0 0 0 1px var(--#{$shale}button-inset-border-hover);
		}

		+ label {
			--#{$shale}input-size: var(--#{$shale}font-0);
			align-items: center;
			color: var(--#{$shale}text-colour);
			display: flex;
			gap: .25em;
			position: relative;
			user-select: none;
			vertical-align: middle;
		}

		+ label::before {
			background: var(--#{$shale}button);
			border-radius: 0.2em;
			border: 1px solid var(--#{$shale}button-border);
			box-shadow: inset 0 0 0 1px var(--#{$shale}button-inset-border);
			box-sizing: border-box;
			color: var(--#{$shale}text);
			content: "";
			display: inline-block;
			height: var(--#{$shale}input-size);
			transition: background .3s ease, border-color .3s ease;
			user-select: none;
			vertical-align: middle;
			width: var(--#{$shale}input-size);
		}

		+ label::after {
			content: "";
			display: block;
			height: var(--#{$shale}input-size);
			position: absolute;
			transition: background .3s ease;
			width: var(--#{$shale}input-size);
		}

		&:checked + label::after, &:indeterminate + label::after {
			background: var(--#{$shale}input-fill);
		}

		&:hover + label::before, #{$hover} + label::before {
			background: var(--#{$shale}button-hover);
			border-color: var(--#{$shale}button-border-hover);
			box-shadow: inset 0 0 0 1px var(--#{$shale}button-inset-border-hover);
		}

		&:focus-visible + label::before, #{$focus} + label::before {
			border-color: var(--#{$shale}button-border-active);
			box-shadow: inset 0 0 0 1px var(--#{$shale}button-inset-border-active);
		}
	}

	&[type="checkbox"] {
		+ label::after { border-radius: .25rem; }

		+ label::after {
			clip-path: polygon(50% 70%, 75% 10%, 90% 10%, 60% 90%, 45% 90%, 20% 50%, 35% 50%);
		}

		&:indeterminate + label::after {
			clip-path: rect(20% 80% 80% 20% round 10%);
		}
	}

	&[type="radio"] {
		+ label::before { border-radius: 100%; }

		+ label::after {
			clip-path: circle(25% at 50% 50%);
		}
	}
}
